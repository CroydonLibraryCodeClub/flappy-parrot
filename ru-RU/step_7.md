## Обнаружение столкновений

Чтобы сделать игру сложной, игрок должен провести Flappy через щели, не позволяя попугаю касаться труб или краев Сцены. Тебе нужно добавить несколько блоков, чтобы определить, когда Flappy обо что-то ударится.

Это называется **обнаружением столкновений**.

\--- task \---

Загрузи звук из библиотеки, который ты хочешь воспроизвести, когда Flappy сталкивается с чем-либо. Звук «screech (визг)» - хороший выбор.

[[[generic-scratch3-sound-from-library]]]

\--- /task \---

Блок `ждать до`{: class = "block3control"} необходим для проверки того, что Flappy `касается труб`{: class = "block3sensing"} `или`{: class = "block3operators"} `касается края`{: Класс = "block3sensing"}.

\--- task \---

Добавь новый блок `когда зелёный флаг нажат`{:class="block3control"} в спрайт 'Flappy', а также добавь следующий код:

![спрайт попугая](images/flappy-sprite.png)

```blocks3
когда щёлкнут по зелёному флагу
ждать до <<касается (Pipes v)?> или <касается (edge v)?>>
включить звук (screech v)
```

\--- /task \---

\--- task \---

Проверь свою программу. Если Flappy касается трубы, должен прозвучать звук «визг».

\--- /task \---

Далее, обнови код, чтобы игра остановилась, когда Flappy ударится о трубу.

\--- task \---

Добавь следующий код, чтобы остановить игру после того, как столкновение произошло:

![спрайт попугая](images/flappy-sprite.png)

```blocks3
когда щёлкнут по зелёному флагу
ждать до <<touching (Pipes v) ?> или <touching (edge v) ?>>
включить звук (screech v)
сказать [Game Over!]
передать (Game Over v)
стоп [другие скрипты спрайта v]
```

Блок `передать`{:class="block3events"} говорит другим спрайтам, что игра закончена.

Блок `стоп`{: class = "block3control"} останавливает другие запущенные скрипты Flappy, поэтому Flappy перестает падать после столкновения.

\--- /task \---

\--- task \---

Наконец, добавь следующий код в спрайт `Трубы`, чтобы трубы `перестали`{: class = "block3control"} появляться `когда спрайт получит Game Over`{: Класс = "block3events"}.

![спрайт труб](images/pipes-sprite.png)

```blocks3
когда я получу [Game Over v]
стоп [другие скрипты спрайта v]
```

\--- /task \---

\--- task \---

Протестируй свою игру и посмотри, как долго ты сможешь продержаться!

\--- /task \---